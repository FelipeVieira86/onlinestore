(this["webpackJsonpsd-0x-block15-project-frontend-online-store"]=this["webpackJsonpsd-0x-block15-project-frontend-online-store"]||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/search-icon.fa2da4e6.png"},27:function(e,t,a){e.exports=a.p+"static/media/shopping-cart.aa9925ad.png"},28:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(24),i=a.n(c),s=(a(33),a(16)),l=a(6),o=a.n(l),u=a(13),d=a(1),m=a(2),p=a(8),h=a(4),v=a(3),f=a(9),b=a(5);function E(){return(E=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",t=fetch("https://api.mercadolibre.com/sites/MLB/categories").then((function(e){return e.json()})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(o.a.mark((function e(t,a){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t&&a?"https://api.mercadolibre.com/sites/MLB/search?category=".concat(t,"&q=").concat(a):a?"https://api.mercadolibre.com/sites/MLB/search?q=".concat(a):"https://api.mercadolibre.com/sites/MLB/search?category=".concat(t),n=fetch(r).then((function(e){return e.json()})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.testId,a=e.addCart,r=e.produto,c=e.className,i=e.qnt;return n.a.createElement("div",null,n.a.createElement("button",{className:c,type:"button","data-testid":t,onClick:function(){return a(r,i)}},"Adicionar Produto"))}}]),a}(n.a.Component),k=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.produto,a=e.addCart,r=e.produto.thumbnail;return n.a.createElement("div",{"data-testid":"product",className:"product"},n.a.createElement(f.b,{to:"/details/".concat(t.id),className:"prodLink","data-testid":"product-detail-link"},n.a.createElement("div",{className:"productImgContainer"},n.a.createElement("img",{className:"productImg",src:r.replace(/-I/i,"-O"),alt:t.title})),n.a.createElement("div",{className:"productTitle"},t.title),n.a.createElement("div",{className:"productPrice"},"R$".concat(t.price.toFixed(2))),t.shipping.free_shipping?n.a.createElement("div",{className:"free-shipping","data-testid":"free-shipping"},"Entrega gr\xe1tis"):null),n.a.createElement(N,{className:"ListBtn",testId:"product-add-to-cart",produto:t,addCart:a,qnt:1}))}}]),a}(n.a.Component),j=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.addCart;return null===t?n.a.createElement("div",{className:"product-list"},n.a.createElement("div",{className:"hidden","data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.")):n.a.createElement("div",{className:"product-list"},t.results.map((function(e){return n.a.createElement(k,{key:e.id,produto:e,addCart:a})})))}}]),a}(n.a.Component),O=a(26),C=a.n(O),S=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={search:"",value:""},r.checkEnterKey=r.checkEnterKey.bind(Object(p.a)(r)),r.clear=r.clear.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"clear",value:function(){this.setState({value:""})}},{key:"checkEnterKey",value:function(e){var t=e.key,a=this.state.search,r=this.props.onClick;"Enter"===t&&(r(a),this.clear())}},{key:"render",value:function(){var e=this,t=this.props.onClick,a=this.state,r=a.search,c=a.value;return n.a.createElement("div",{className:"search-bar"},n.a.createElement("input",{value:c,onKeyPress:this.checkEnterKey,onChange:function(t){var a=t.target;return e.setState({search:a.value,value:a.value})},placeholder:"Digite algum termo de pesquisa ou escolha uma categoria",className:"search-input","data-testid":"query-input",type:"text"}),n.a.createElement("input",{src:C.a,type:"image",onClick:function(){t(r),e.clear()},className:"search-icon",alt:"search icon","data-testid":"query-button"}))}}]),a}(r.Component);var x=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={categorias:[]},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){return E.apply(this,arguments)})().then((function(t){return e.setState({categorias:t})}))}},{key:"render",value:function(){var e=this.state.categorias,t=this.props,a=t.onClick,r=t.reset,c=t.value;return n.a.createElement("form",{className:"categories"},n.a.createElement("div",{className:"category-showvalue"},function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null}(c)),n.a.createElement("div",{className:"categories-title"},"Categorias"),n.a.createElement("label",{className:"category",htmlFor:"todas"},"Todas"),n.a.createElement("input",{className:"radio",type:"radio",name:"categories",id:"todas",onClick:function(){return r()}}),e.map((function(e){return n.a.createElement("div",{className:"catContainer",key:e.id},n.a.createElement("label",{"data-testid":"category",className:"category",htmlFor:e.id},n.a.createElement("input",{className:"radio",id:e.id,name:"categories",type:"radio",onClick:function(){return a(e.id)}}),e.name))})))}}]),a}(n.a.Component),w=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(f.b,{to:"/"},"Voltar"),n.a.createElement("div",{className:"empty-cart","data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio"))}}]),a}(n.a.Component),q=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.qnt;return r.state={qnt:n||1},r}return Object(m.a)(a,[{key:"increase",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,r,n,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.qnt,a=this.props,r=a.max,n=a.inc,c=a.produto,i=a.getTotal,!(t<r)){e.next=7;break}return e.next=5,this.setState({qnt:Number(t)+1});case 5:n(c),i(t,1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"decrease",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.dec,r=t.produto,n=t.getTotal,!((c=this.state.qnt)>0)){e.next=7;break}return e.next=5,this.setState({qnt:Number(c)-1});case 5:a(r),n(c,-1);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.produto.product,a=this.state.qnt;return n.a.createElement("div",{className:"quantityContainer"},n.a.createElement("div",{className:"cartQuantity"},n.a.createElement("button",{className:"buttonQty",onClick:function(){e.decrease()},type:"button","data-testid":"product-decrease-quantity"},"-"),n.a.createElement("div",{"data-testid":"shopping-cart-product-quantity"},a),n.a.createElement("button",{className:"buttonQty",onClick:function(){return e.increase()},type:"button","data-testid":"product-increase-quantity"},"+")),n.a.createElement("div",{className:"shoppingCartPrice"},"R$".concat((t.price*a).toFixed(2))))}}]),a}(r.Component),F=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.cart;return r.state={products:n,total:0},r.loadCart=r.loadCart.bind(Object(p.a)(r)),r.getTotal=r.getTotal.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadCart()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.products;t.products!==a&&this.getTotal()}},{key:"getTotal",value:function(e,t){var a=this.state.products.reduce((function(a,r){return a+r.product.price*(e+t||r.quantity)}),0);this.setState({total:a.toFixed(2)})}},{key:"loadCart",value:function(){var e=JSON.parse(localStorage.getItem("cart"));this.setState({products:e||[]})}},{key:"render",value:function(){var e=this,t=this.props,a=t.inc,r=t.dec,c=this.state,i=c.products,s=c.total;return 0===i.length?n.a.createElement(w,null):n.a.createElement("div",{className:"shoppingCart"},n.a.createElement(f.b,{to:"/"},"Voltar"),i?i.map((function(t){return n.a.createElement("div",{className:"shoppingCartContainer",key:t.product.id},n.a.createElement("img",{src:t.product.thumbnail,alt:"product thumbnail"}),n.a.createElement("div",{className:"shoppingCartTitle","data-testid":"shopping-cart-product-name"},t.product.title),n.a.createElement(q,{max:t.product.available_quantity,inc:a,dec:r,qnt:t.quantity,produto:t,getTotal:e.getTotal}))})):null,i.length>0?n.a.createElement("div",{className:"total"},"Total: R$".concat(s)):null,n.a.createElement("div",{className:"cartBtnContainer"},n.a.createElement(f.b,{className:"FinalizarCompra",to:"/checkout","data-testid":"checkout-products"},"Finalizar Compra")))}}]),a}(n.a.Component),z=(a(22),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props,c=n.rating,i=n.idx;return r.state={rating:c,idx:i},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,t=this.state,a=t.rating,r=t.idx;switch(!0){case 5===a:e="5".concat(r);break;case 4===a:e="4".concat(r);break;case 3===a:e="3".concat(r);break;case 2===a:e="2".concat(r);break;case 1===a:e="1".concat(r)}e&&(document.getElementById(e).checked=!0)}},{key:"render",value:function(){var e=this.props.idx;return n.a.createElement("div",{className:"ratingContainer"},n.a.createElement("fieldset",{className:"rating"},n.a.createElement("input",{className:"r",disabled:!0,type:"radio",id:"5".concat(e),name:"r".concat(e),value:"5"}),n.a.createElement("label",{className:"full",htmlFor:"5".concat(e)}),n.a.createElement("input",{className:"r",disabled:!0,type:"radio",id:"4".concat(e),name:"r".concat(e),value:"4"}),n.a.createElement("label",{className:"full",htmlFor:"4".concat(e)}),n.a.createElement("input",{className:"r",disabled:!0,type:"radio",id:"3".concat(e),name:"r".concat(e),value:"3"}),n.a.createElement("label",{className:"full",htmlFor:"3".concat(e)}),n.a.createElement("input",{className:"r",disabled:!0,type:"radio",id:"2".concat(e),name:"r".concat(e),value:"2"}),n.a.createElement("label",{className:"full",htmlFor:"2".concat(e)}),n.a.createElement("input",{className:"r",disabled:!0,type:"radio",id:"1".concat(e),name:"r".concat(e),value:"1"}),n.a.createElement("label",{className:"full",htmlFor:"1".concat(e)})))}}]),a}(r.Component)),I=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.reviews;return n.a.createElement("div",{className:"reviewContainer"},e.map((function(e,t){return n.a.createElement("div",{key:e.id},e.rate?n.a.createElement(z,{className:"reviewRat",rating:e.rate,idx:t}):null,n.a.createElement("div",{className:"reviewTitle"},e.title),n.a.createElement("div",{className:"reviewContent"},e.content))})))}}]),a}(r.Component),T=(a(23),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;Object(d.a)(this,a);var n=(r=t.call(this,e)).props.pics;return r.state={pics:n,index:0},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.pics,r=t.index;return n.a.createElement("div",{className:"picContainer"},n.a.createElement("div",{className:"picSlides"},a.map((function(t,a){return n.a.createElement("div",{key:t.id,className:"picPreviewContainer"},n.a.createElement("img",{onMouseEnter:function(){return e.setState({index:a})},className:"picPreview",src:t.url,alt:"imagem do produto"}))}))),n.a.createElement("div",{className:"bigPicContainer"},n.a.createElement("img",{className:"bigPic",src:a[r].url,alt:"imagem do produto"})))}}]),a}(r.Component)),M=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){var e,t=this.props.rating;switch(!0){case t>=4.8:e="star5";break;case t>=4.4:e="star4half";break;case t>=4:e="star4";break;case t>=3.4:e="star3half";break;case t>=3:e="star3";break;case t>=2.4:e="star2half";break;case t>=2:e="star2";break;case t>=1.4:e="star1half";break;case t>=1:e="star1";break;case t>=.4:e="starhalf"}e&&(document.getElementById(e).checked=!0)}},{key:"render",value:function(){var e=this.props.reviews;return n.a.createElement("div",{className:"ratingContainer"},n.a.createElement("fieldset",{className:"rating"},n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star5",name:"rating",value:"5"}),n.a.createElement("label",{className:"full",htmlFor:"star5"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star4half",name:"rating",value:"4.5"}),n.a.createElement("label",{className:"half",htmlFor:"star4half"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star4",name:"rating",value:"4"}),n.a.createElement("label",{className:"full",htmlFor:"star4"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star3half",name:"rating",value:"3.5"}),n.a.createElement("label",{className:"half",htmlFor:"star3half"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star3",name:"rating",value:"3"}),n.a.createElement("label",{className:"full",htmlFor:"star3"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star2half",name:"rating",value:"2.5"}),n.a.createElement("label",{className:"half",htmlFor:"star2half"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star2",name:"rating",value:"2"}),n.a.createElement("label",{className:"full",htmlFor:"star2"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star1half",name:"rating",value:"1.5"}),n.a.createElement("label",{className:"half",htmlFor:"star1half"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"star1",name:"rating",value:"1"}),n.a.createElement("label",{className:"full",htmlFor:"star1"}),n.a.createElement("input",{className:"radio",disabled:!0,type:"radio",id:"starhalf",name:"rating",value:"0.5"}),n.a.createElement("label",{className:"half",htmlFor:"starhalf"})),e?n.a.createElement("span",{className:"opinioes"},"".concat(e.paging.total," opini\xf5es")):null)}}]),a}(r.Component),B={new:"Novo",used:"Usado"},D=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={qnt:1},r}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state.qnt,a=this.props,r=a.addCart,c=a.produto,i=c.condition,s=c.title,l=c.price,o=a.produto,u=a.reviews,d=a.rating;return n.a.createElement("div",{className:"itemDetail"},n.a.createElement("div",{className:"itemConditions"},"".concat(B[i]," - ").concat(o.sold_quantity," vendidos")),n.a.createElement("div",{"data-testid":"product-detail-name",className:"title"},s),n.a.createElement(M,{rating:d,reviews:u}),n.a.createElement("div",{className:"price"},n.a.createElement("span",null,"R$ ".concat(Math.floor(l))),n.a.createElement("span",{className:"decimal"},100*(l%1).toFixed(2))),o.accepts_mercadopago?n.a.createElement("div",{className:"extraInfo"},"em",n.a.createElement("span",{className:"parcela"}," 12x ".concat((l/12).toFixed(2)," sem juros"))):null,n.a.createElement("div",{className:"quantidade"},"Quantidade",n.a.createElement("input",{className:"inputQnt",type:"number",value:t,max:o.available_quantity,onChange:function(t){var a=t.target;return e.setState({qnt:a.value})}}),n.a.createElement("span",{className:"disponivel"},"  (".concat(o.available_quantity," dispon\xedveis)"))),n.a.createElement(N,{className:"addCarrinho",testId:"product-detail-add-to-cart",produto:o,addCart:r,qnt:t}))}}]),a}(r.Component),P=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={produto:null,reviews:null,rating:null},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("https://api.mercadolibre.com/items/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({produto:t})})),fetch("https://api.mercadolibre.com/reviews/item/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({reviews:t,rating:t.rating_average})}))}},{key:"render",value:function(){var e=this.state,t=e.produto,a=e.reviews,r=e.rating,c=this.props.addCart;return t?n.a.createElement("div",{className:"container"},n.a.createElement(f.b,{className:"backLink",to:"/"},"Voltar"),n.a.createElement("div",{className:"productInfo"},n.a.createElement(T,{pics:t.pictures}),n.a.createElement(D,{produto:t,addCart:c,reviews:a,rating:r})),a?n.a.createElement(I,{reviews:a.reviews}):null,n.a.createElement("textarea",{"data-testid":"product-detail-evaluation"})):n.a.createElement("div",null,"Carregando...")}}]),a}(n.a.Component),_=a(27),L=a.n(_),V=(a(40),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.cart;return n.a.createElement("div",null,n.a.createElement(f.b,{to:"/cart"},"Voltar"),e.map((function(e){return n.a.createElement("div",{key:e.product.id},e.product.title)})),n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"nome"},"Nome Completo"),n.a.createElement("input",{type:"text",name:"nome","data-testid":"checkout-fullname"}),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{type:"email",name:"email","data-testid":"checkout-email"}),n.a.createElement("label",{htmlFor:"cpf"},"CPF"),n.a.createElement("input",{type:"text",name:"cpf","data-testid":"checkout-cpf"}),n.a.createElement("label",{htmlFor:"telefone"},"Telefone"),n.a.createElement("input",{type:"text",name:"telefone","data-testid":"checkout-phone"}),n.a.createElement("label",{htmlFor:"cep"},"CEP"),n.a.createElement("input",{type:"text",name:"cep","data-testid":"checkout-cep"}),n.a.createElement("label",{htmlFor:"endereco"},"Endere\xe7o"),n.a.createElement("input",{type:"text",name:"endereco","data-testid":"checkout-address"})))}}]),a}(r.Component)),J=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.cartImage,a=e.cartSize;return n.a.createElement(f.b,{className:"cart-link","data-testid":"shopping-cart-button",to:"/cart"},n.a.createElement("span",{"data-testid":"shopping-cart-size"},"(".concat(a,")")),n.a.createElement("img",{className:"cart-img",src:t,alt:"shopping cart"}))}}]),a}(n.a.Component),K=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state={search:null,category:null,value:null,cart:[],cartSize:0},r.getCategory=r.getCategory.bind(Object(p.a)(r)),r.getValue=r.getValue.bind(Object(p.a)(r)),r.resetCategory=r.resetCategory.bind(Object(p.a)(r)),r.makeSearch=r.makeSearch.bind(Object(p.a)(r)),r.addCart=r.addCart.bind(Object(p.a)(r)),r.inc=r.inc.bind(Object(p.a)(r)),r.dec=r.dec.bind(Object(p.a)(r)),r.loadCart=r.loadCart.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.loadCart()}},{key:"componentDidUpdate",value:function(){var e=this.state,t=e.cart,a=e.cartSize;localStorage.setItem("cart",JSON.stringify(t)),localStorage.setItem("cartSize",a)}},{key:"getValue",value:function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({value:t});case 2:this.makeSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCategory",value:function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({category:t});case 2:this.makeSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetCategory",value:function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({category:null});case 2:this.makeSearch();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeSearch",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.category,r=t.value,e.next=3,y(a,r);case 3:n=e.sent,this.setState({search:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addCart",value:function(e,t){var a=this.state,r=a.cart,n=a.cartSize;if(r.some((function(t){return t.product===e}))){var c=r.find((function(t){return t.product===e}));if(c.product.available_quantity>c.quantity){c.quantity+=t;var i=r.indexOf(r.find((function(t){return t.product===e})));r.splice(i,i+1),this.setState({cart:[].concat(Object(s.a)(r),[c]),cartSize:Number(n)+Number(t)})}}else this.setState({cart:[].concat(Object(s.a)(r),[{product:e,quantity:t}]),cartSize:Number(n)+Number(t)})}},{key:"inc",value:function(e){var t=this.state,a=t.cart,r=t.cartSize,n=a.find((function(t){return t.product.id===e.product.id}));if(n.product.available_quantity>n.quantity){n.quantity+=1;var c=a.indexOf(a.find((function(t){return t.product.id===e.product.id})));a.splice(c,c+1),this.setState({cart:[].concat(Object(s.a)(a),[n]),cartSize:Number(r)+1})}}},{key:"dec",value:function(e){var t=this.state,a=t.cart,r=t.cartSize,n=a.find((function(t){return t.product.id===e.product.id}));if(n.product.available_quantity>n.quantity){n.quantity-=1;var c=a.indexOf(a.find((function(t){return t.product.id===e.product.id})));a.splice(c,c+1),this.setState({cart:[].concat(Object(s.a)(a),[n]),cartSize:Number(r)-1})}}},{key:"loadCart",value:function(){var e=JSON.parse(localStorage.getItem("cart")),t=localStorage.getItem("cartSize");this.setState({cart:e||[],cartSize:Number(t)||0})}},{key:"render",value:function(){var e=this,t=this.state,a=t.search,r=t.value,c=t.cart,i=t.cartSize;return n.a.createElement(f.a,null,n.a.createElement("div",{className:"main"},n.a.createElement(J,{cartImage:L.a,cartSize:i}),n.a.createElement("div",{className:"search-box"},n.a.createElement(S,{onClick:this.getValue})),n.a.createElement("div",{className:"products"},n.a.createElement(x,{onClick:this.getCategory,reset:this.resetCategory,value:r}),n.a.createElement(b.c,null,n.a.createElement(b.a,{exact:!0,path:"/",render:function(t){return n.a.createElement(j,Object.assign({},t,{value:a,addCart:e.addCart}))}}),n.a.createElement(b.a,{path:"/cart",render:function(t){return n.a.createElement(F,Object.assign({},t,{cart:c,inc:e.inc,dec:e.dec}))}}),n.a.createElement(b.a,{path:"/details/:id",render:function(t){return n.a.createElement(P,Object.assign({},t,{addCart:e.addCart}))}}),n.a.createElement(b.a,{path:"/checkout",render:function(e){return n.a.createElement(V,Object.assign({},e,{cart:c}))}})))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.b1a5c870.chunk.js.map